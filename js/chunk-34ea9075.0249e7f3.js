(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34ea9075"],{"01e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("5530"),r={showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"共 ".concat(e," 条")}};function c(e,t){return Object(a["a"])(Object(a["a"])({},r),{},{onShowSizeChange:function(n,a){e.pageNo=n,e.pageSize=a,t()},onChange:function(n,a){e.pageNo=n,e.pageSize=a,t()}})}},1276:function(e,t,n){"use strict";var a=n("d784"),r=n("44e7"),c=n("825a"),i=n("1d80"),l=n("4840"),u=n("8aa5"),o=n("50c4"),s=n("14c3"),d=n("9263"),f=n("d039"),b=[].push,O=Math.min,p=4294967295,m=!f((function(){return!RegExp(p,"y")}));a("split",2,(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=String(i(this)),c=void 0===n?p:n>>>0;if(0===c)return[];if(void 0===e)return[a];if(!r(e))return t.call(a,e,c);var l,u,o,s=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),O=0,m=new RegExp(e.source,f+"g");while(l=d.call(m,a)){if(u=m.lastIndex,u>O&&(s.push(a.slice(O,l.index)),l.length>1&&l.index<a.length&&b.apply(s,l.slice(1)),o=l[0].length,O=u,s.length>=c))break;m.lastIndex===l.index&&m.lastIndex++}return O===a.length?!o&&m.test("")||s.push(""):s.push(a.slice(O)),s.length>c?s.slice(0,c):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=i(this),c=void 0==t?void 0:t[e];return void 0!==c?c.call(t,r,n):a.call(String(r),t,n)},function(e,r){var i=n(a,e,this,r,a!==t);if(i.done)return i.value;var d=c(e),f=String(this),b=l(d,RegExp),h=d.unicode,j=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),v=new b(m?d:"^(?:"+d.source+")",j),g=void 0===r?p:r>>>0;if(0===g)return[];if(0===f.length)return null===s(v,f)?[f]:[];var w=0,k=0,y=[];while(k<f.length){v.lastIndex=m?k:0;var x,C=s(v,m?f:f.slice(k));if(null===C||(x=O(o(v.lastIndex+(m?0:k)),f.length))===w)k=u(f,k,h);else{if(y.push(f.slice(w,k)),y.length===g)return y;for(var _=1;_<=C.length-1;_++)if(y.push(C[_]),y.length===g)return y;k=w=x}}return y.push(f.slice(w)),y}]}),!m)},"34eb":function(e,t,n){},a7d6:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("5530"),r=n("f2bf"),c=Object(r["cb"])("data-v-e341456a");Object(r["J"])("data-v-e341456a");var i={class:"mb10"},l=Object(r["m"])(" 添加 "),u={class:"search-rbox"},o=Object(r["m"])(" 搜索 "),s=Object(r["n"])("a",null,"删除",-1);Object(r["H"])();var d=c((function(e,t,n,d,f,b){var O=Object(r["O"])("a-button"),p=Object(r["O"])("a-col"),m=Object(r["O"])("a-input"),h=Object(r["O"])("a-row"),j=Object(r["O"])("a-divider"),v=Object(r["O"])("a-popconfirm"),g=Object(r["O"])("a-table"),w=Object(r["O"])("page-layout"),k=Object(r["O"])("page-footer"),y=Object(r["O"])("Save");return Object(r["G"])(),Object(r["j"])("div",null,[Object(r["n"])(w,null,{default:c((function(){return[Object(r["n"])("div",i,[Object(r["n"])(h,null,{default:c((function(){return[Object(r["n"])(p,{span:8},{default:c((function(){return[Object(r["n"])(O,{onClick:d.openSaveBox,type:"primary"},{default:c((function(){return[l]})),_:1},8,["onClick"])]})),_:1}),Object(r["n"])(p,{span:16},{default:c((function(){return[Object(r["n"])("div",u,[Object(r["n"])(m,{class:"inp-search",value:e.form.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.form.name=t}),placeholder:"输入名称"},null,8,["value"]),Object(r["n"])(O,{onClick:d.fetch,type:"primary"},{default:c((function(){return[o]})),_:1},8,["onClick"])])]})),_:1})]})),_:1})]),Object(r["n"])(g,{rowKey:"id",columns:e.columns,"data-source":e.data,loading:e.loading,pagination:Object(a["a"])(Object(a["a"])({},d.pagination),{},{total:e.total})},{action:c((function(e){var t=e.record;return[Object(r["n"])("span",null,[Object(r["n"])("a",{onClick:function(e){return d.edit(t)}},"编辑 ",8,["onClick"]),Object(r["n"])(j,{type:"vertical"}),Object(r["n"])(v,{title:"是否删除这条数据",onConfirm:function(e){return d.del(t.uid)}},{default:c((function(){return[s]})),_:2},1032,["onConfirm"])])]})),_:1},8,["columns","data-source","loading","pagination"])]})),_:1}),Object(r["n"])(k),Object(r["n"])(y,{ref:"save",onFetchList:d.fetch},null,8,["onFetchList"])])})),f=(n("3b18"),n("f64c")),b=Object(r["n"])("div",null,"菜单权限",-1),O=Object(r["n"])("div",null,"操作权限",-1),p=Object(r["m"])(" 提交 "),m=Object(r["m"])(" 重置 ");function h(e,t,n,a,c,i){var l=Object(r["O"])("a-input"),u=Object(r["O"])("a-form-item"),o=Object(r["O"])("a-tree"),s=Object(r["O"])("a-col"),d=Object(r["O"])("a-row"),f=Object(r["O"])("a-button"),h=Object(r["O"])("a-form"),j=Object(r["O"])("a-drawer");return Object(r["G"])(),Object(r["j"])(j,{title:(e.isEdit?"编辑":"新增")+"角色",placement:"right",width:"620",closable:!1,visible:e.visible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.visible=t}),maskClosable:!0},{default:Object(r["Z"])((function(){return[Object(r["n"])(h,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,ref:"ruleForm",model:e.form,rules:e.rules},{default:Object(r["Z"])((function(){return[Object(r["n"])(u,{label:"角色名",name:"name"},{default:Object(r["Z"])((function(){return[Object(r["n"])(l,{placeholder:"请输入角色名",value:e.form.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.form.name=t})},null,8,["value"])]})),_:1}),Object(r["n"])(u,{label:"角色名(英文)",name:"usName"},{default:Object(r["Z"])((function(){return[Object(r["n"])(l,{placeholder:"请输入英文角色名",value:e.form.usName,"onUpdate:value":t[2]||(t[2]=function(t){return e.form.usName=t})},null,8,["value"])]})),_:1}),Object(r["n"])(u,{label:"权限",name:"content"},{default:Object(r["Z"])((function(){return[Object(r["n"])(d,null,{default:Object(r["Z"])((function(){return[Object(r["n"])(s,{span:12},{default:Object(r["Z"])((function(){return[b,Object(r["n"])(o,{checkedKeys:e.form.permissionIds,"onUpdate:checkedKeys":t[3]||(t[3]=function(t){return e.form.permissionIds=t}),defaultExpandParent:"",checkable:"","tree-data":e.routesData,replaceFields:{children:"children",title:"label",key:"name"}},null,8,["checkedKeys","tree-data"])]})),_:1}),Object(r["n"])(s,{span:12},{default:Object(r["Z"])((function(){return[O,Object(r["n"])(o,{checkedKeys:e.form.authIds,"onUpdate:checkedKeys":t[4]||(t[4]=function(t){return e.form.authIds=t}),defaultExpandParent:"",checkable:"","tree-data":e.routesData2,replaceFields:{children:"children",title:"label",key:"name"}},null,8,["checkedKeys","tree-data"])]})),_:1})]})),_:1})]})),_:1}),Object(r["n"])(u,{"wrapper-col":{offset:4}},{default:Object(r["Z"])((function(){return[Object(r["n"])(f,{type:"primary",loading:e.loading,disabled:e.loading,onClick:a.onSubmit},{default:Object(r["Z"])((function(){return[p]})),_:1},8,["loading","disabled","onClick"]),Object(r["n"])(f,{style:{"margin-left":"10px"},onClick:a.reSetForm},{default:Object(r["Z"])((function(){return[m]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["label-col","wrapper-col","model","rules"])]})),_:1},8,["title","visible"])}n("4de4"),n("4160"),n("caad"),n("159b"),n("96cf");var j=n("1da1"),v=n("2ef0"),g=n.n(v),w=n("a18c"),k=n("43b5"),y=n("ed08"),x={emits:["fetchList"],setup:function(e,t){var n=Object(r["K"])({loading:!1,rules:{name:[{required:!0,message:"请输入"}],usName:[{required:!0,message:"请输入"}]},labelCol:{span:5},wrapperCol:{span:17},isEdit:!1,form:{uid:[],permissionIds:[],authIds:[],name:"",usName:""},visible:!1,routesData:[],routesData2:[],asyncVueRoutes:g.a.cloneDeep(w["a"])}),c=Object(r["L"])(null),i=function(e){if(n.visible=!0,O(),l(),o(),e){for(var t in n.isEdit=!0,n.form)for(var a in e)if(a&&t==a){n.form[t]=e[a];break}n.form.permissionIds=Object(y["a"])(e.permissionIds),n.form.authIds=Object(y["a"])(e.authIds)}else n.isEdit=!1},l=function(e){var t=["userCenter","home","users"];n.routesData=g.a.cloneDeep(n.asyncVueRoutes.filter((function(e){return!t.includes(e.name)&&!!e.name}))),u(n.routesData)},u=function e(t){t.forEach((function(t){t.meta&&(t.label=t.meta.title),t.children&&(t=e(t.children))}))},o=function(){var e=["zw2020081907","zw2020081911","zw2020081903"];n.routesData2=g.a.cloneDeep(n.asyncVueRoutes.filter((function(t){return!e.includes(t.name)}))),n.routesData2=s(n.routesData2)},s=function e(t){var n=[];return t.forEach((function(t){var r=Object(a["a"])({},t),c=["zw2020081901","zw2020081902"];if(r.meta&&(r.label=r.meta.title),r.children&&d(r.children))r.children=e(r.children),n.push(r);else if(r.permission&&r.permission.length){var i=[];c.includes(r.name)||(r.permission.forEach((function(e){i.push({name:r.name+e.name,label:e.value})})),r.children=i),n.push(r)}})),n},d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!1;return t.forEach((function(t){if(t.children){var a=e(t.children);if(a)return n=!0,n}else if(t.permission)return n=!0,n})),n},b=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var a,r,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.loading=!0,a=f["a"].loading({content:"提交中...",key:"save"}),r={status:100},e.prev=3,!n.isEdit){e.next=10;break}return e.next=7,Object(k["e"])(n.form);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(k["a"])(n.form);case 12:r=e.sent;case 13:return e.prev=13,n.loading=!1,a(),e.finish(13);case 17:c=r,i=c.code,200==i&&(n.visible=!1,f["a"].success({content:"操作成功",key:"save"}),t.emit("fetchList"));case 19:case"end":return e.stop()}}),e,null,[[3,,13,17]])})));return function(){return e.apply(this,arguments)}}(),O=function(){for(var e in n.form)n.form[e]=""};return Object(a["a"])(Object(a["a"])({},Object(r["U"])(n)),{},{ruleForm:c,reSetForm:O,onSubmit:b,show:i})}};x.render=h;var C=x,_=n("01e6"),I=[{dataIndex:"name",title:"名称"},{dataIndex:"createTime",title:"创建时间"},{title:"操作",fixed:"right",width:150,slots:{customRender:"action"}}],S={components:{Save:C},setup:function(){var e=Object(r["K"])({data:[],columns:I,loading:!1,form:{name:"",pageNo:1,pageSize:10},total:0}),t=function(){e.loading=!0,Object(k["g"])(e.form).then((function(t){var n=t.data,a=n.content,r=n.total;e.data=a,e.total=r,e.loading=!1})).catch((function(){e.loading=!1}))},n=Object(r["L"])(null),c=function(){n.value.show()},i=function(e){n.value.show(e)},l=function(e){Object(k["c"])(e).then((function(){t(),f["a"].success({content:"删除成功，mock数据",key:"save"})}))},u=Object(r["h"])((function(){return Object(_["a"])(e.form,t)}));return t(),Object(a["a"])(Object(a["a"])({},Object(r["U"])(e)),{},{pagination:u,openSaveBox:c,fetch:t,edit:i,del:l,save:n})}};n("b914");S.render=d,S.__scopeId="data-v-e341456a";t["default"]=S},b914:function(e,t,n){"use strict";n("34eb")},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("1276");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return void 0!=e&&null!=e&&""!=e&&e&&"string"==typeof e?e.split(","):[]}}}]);